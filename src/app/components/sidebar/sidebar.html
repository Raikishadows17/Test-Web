<div class="sidebar" [class.collapsed]="collapsed">
  <button class="toggle-btn" (click)="toggleMenu()">
    <span class="material-icons">
      {{ collapsed ? 'chevron_right' : 'chevron_left' }}
    </span>
  </button>
  <div class="logo-container">
    <img src="images/logo.png" alt="Logo" class="logo" (click)="goHome()" />
  </div>

  <ul class="menu-list">
    @for (item of menuItems; track item.label) {
    <li>
      <div class="menu-item" (click)="toggleItem(item)">
        <span class="material-icons">{{ item.icon }}</span>
        <span class="label" *ngIf="!collapsed">{{ item.label }}</span>
        <span class="material-icons" *ngIf="item.children && !collapsed">
          {{ item.isOpen ? 'expand_less' : 'expand_more' }}
        </span>
      </div>

      @if (item.children && item.isOpen && !collapsed) {
      <ul class="submenu">
        @for (child of item.children; track child.label) {
        <li class="submenu-item" (click)="navigate(child.route); $event.stopPropagation()">

          <span class="material-icons arrow">chevron_right</span>
          <span> {{ child.label }}</span>
        </li>
        }
      </ul>
      }
    </li>
    }
  </ul>

</div>
